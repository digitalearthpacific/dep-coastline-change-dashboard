@use '../../styles/mixins' as *;

.mapContainer {
  height: 100%;
  transition: width 0.3s ease-in-out;
  position: relative;

  &.withResultPanel {
    width: 50%;
  }

  &.fullWidth {
    width: 100%;
  }
}

/* ===== MAPLIBRE ZOOM CONTROLS ===== */
:root {
  --navigation-control-margin-right: 24px;
  --navigation-control-margin-bottom: 106px;

  @include mobile-only {
    --navigation-control-margin-right: 16px;
    --navigation-control-margin-bottom: 96px;
  }
}

:global(.maplibregl-ctrl-zoom-in),
:global(.maplibregl-ctrl-zoom-out) {
  width: var(--space-6, 32px) !important;
  height: var(--space-6, 32px) !important;
  position: relative;
}

/* Desktop-only tooltips */
@include desktop-only {
  :global(.maplibregl-ctrl-zoom-in),
  :global(.maplibregl-ctrl-zoom-out) {
    /* Tooltip arrow */
    &:hover::before {
      content: '';
      position: absolute;
      right: 100%;
      top: 50%;
      transform: translateY(-50%);
      margin-right: 0;
      border: 6px solid transparent;
      border-left-color: var(--gray-12);
      z-index: 1000;
      pointer-events: none;
    }

    /* Tooltip content */
    &:hover::after {
      position: absolute;
      right: 100%;
      top: 50%;
      transform: translateY(-50%);
      background: var(--gray-12);
      color: var(--gray-1);
      padding: var(--space-1, 0.25rem) var(--space-2, 0.5rem);
      border-radius: var(--radius-2, 4px);
      font-size: var(--font-size-xs, 0.75rem);
      white-space: nowrap;
      margin-right: 11px;
      z-index: 999;
      pointer-events: none;
    }
  }

  /* Tooltip text content */
  :global(.maplibregl-ctrl-zoom-in):hover::after {
    content: 'Zoom In';
  }

  :global(.maplibregl-ctrl-zoom-out):hover::after {
    content: 'Zoom Out';
  }
}

/* ===== CUSTOM MAP TOOLS ===== */
.customMapTools {
  position: absolute;
  right: var(--space-5, 24px);
  bottom: var(--space-5, 24px);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-2, 8px);

  @include mobile-only {
    top: 82px;
    bottom: auto;
    right: var(--space-4, 16px);
  }

  button {
    @include button-styles;
  }

  .baseMapPopup {
    position: absolute;
    right: 40px;
    bottom: 0px;
    display: flex;
    background: var(--white, #fff);
    border-radius: var(--radius-4, 8px);
    border: 1px solid var(--grey-a6, #00000026);
    padding: var(--space-3, 12px);
    gap: var(--space-2, 8px);
    z-index: 10;

    button {
      border: none;
      background: none;
      cursor: pointer;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: var(--space-1, 4px);
      padding: 0;
      font-family: var(--font-family-primary);

      img {
        width: var(--space-8, 48px);
        height: var(--space-8, 48px);
        border-radius: var(--radius-2, 4px);
        object-fit: cover;
      }

      &.selected img {
        outline: 2px solid var(--blue-10, #008ac5);
        border-radius: var(--radius-2, 4px);
      }
    }
  }
}

.exitFullscreenContainer {
  position: absolute;
  top: var(--space-4, 16px);
  right: var(--space-4, 16px);
  z-index: 1000;

  @include mobile-only {
    top: var(--space-3, 12px);
    right: var(--space-3, 12px);
  }

  button {
    @include button-styles;
  }
}
